{"version":3,"sources":["services/strapi/auth/index.js","views/pages/authentication/Login.js","configs/axios.js","../node_modules/reactstrap/es/CardTitle.js","../node_modules/reactstrap/es/CardBody.js","../node_modules/reactstrap/es/Card.js","../node_modules/reactstrap/es/CardText.js","constants/api/strapiApi.js","@core/components/input-password-toggle/index.js","@core/components/logo-auth/index.js"],"names":["strapiAuthLogin","data","a","strapiAxios","post","strapiApi","auth","login","ToastContent","name","className","size","color","icon","Login","props","ability","useContext","AbilityContext","addAuthFN","AuthContext","dispatch","useDispatch","history","useHistory","useState","email","setEmail","password","setPassword","errorLogin","setErrorLogin","loadingLogin","setLoadingLogin","useForm","register","errors","handleSubmit","onSubmit","isObjEmpty","window","btoa","unescape","encodeURIComponent","loginEmail","loginPassword","console","log","identifier","then","res","id","fullName","user","firstname","lastname","username","cedula","avatar","require","default","role","action","subject","extras","eCommerceCartItemsCount","zammadUser","strapiUser","accessToken","jwt","refreshToken","handleLogin","token","logged","update","push","getHomeRouteForLoggedInUser","toast","success","transition","Slide","hideProgressBar","autoClose","catch","err","message","Card","CardBody","CardTitle","tag","CardText","Form","FormGroup","Label","for","Input","autoFocus","type","value","placeholder","onChange","e","target","classnames","innerRef","required","validate","to","style","marginBottom","Button","Ripple","block","disabled","JSON","parse","localStorage","getItem","zammadAxios","axios","create","baseURL","process","headers","authorization","territoriesAxios","incidentsAxios","interceptors","request","use","config","Authorization","error","response","status","clear","location","href","propTypes","tagPropType","PropTypes","string","cssModule","object","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","createElement","_extends","defaultProps","oneOfType","func","ref","inverse","bool","body","outline","dashboard","total","open","end","notClose","priorityLow","priorityNormal","priorityHigh","institutionWithTickets","usersActive","beneficiaries","beneficiary","valueSearch","pageNumber","beneficiaryPost","beneficiaryId","beneficiaryByCedula","users","userMe","valueZone","userPost","userId","userImport","tickets","ticket","ticketPopulate","ticketPost","ticketId","ticketImport","institutions","institution","institutionPost","institutionId","institutionByIdService","idService","services","all","serviceId","service","category","subCategory","comments","comment","uploads","upload","InputPasswordToggle","label","hideIcon","showIcon","visible","htmlFor","iconSize","inputClassName","rest","inputVisibility","setInputVisibility","addonType","onClick","renderIcon","LogoAuth","src","Logo","width","alt"],"mappings":"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","file":"static/js/109.42fa988b.chunk.js","sourcesContent":["import { strapiAxios } from '../../../configs/axios'\r\nimport { strapiApi } from '../../../constants/api/strapiApi'\r\n\r\n// export const strapiAuthLogin = async (data) => await strapiAxios.post(strapiApi.auth.login, data)\r\nexport const strapiAuthLogin = async (data) => await strapiAxios.post(strapiApi.auth.login, data)\r\n","import { useState, useContext, Fragment } from 'react'\r\nimport classnames from 'classnames'\r\nimport axios from 'axios'\r\nimport Avatar from '@components/avatar'\r\nimport useJwt from '@src/auth/jwt/useJwt'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useForm } from 'react-hook-form'\r\nimport { toast, Slide } from 'react-toastify'\r\nimport { handleLogin } from '@store/actions/auth'\r\nimport { AbilityContext } from '@src/utility/context/Can'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport InputPasswordToggle from '@components/input-password-toggle'\r\nimport { getHomeRouteForLoggedInUser, isObjEmpty } from '@utils'\r\nimport { Coffee } from 'react-feather'\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardTitle,\r\n  CardText,\r\n  Form,\r\n  Input,\r\n  FormGroup,\r\n  Label,\r\n  CustomInput,\r\n  Button,\r\n} from 'reactstrap'\r\n\r\nimport LogoAuth from '../../../@core/components/logo-auth'\r\n\r\nimport '@styles/base/pages/page-auth.scss'\r\nimport { strapiAuthLogin } from '../../../services/strapi/auth'\r\nimport { AuthContext } from '../../../contexts/auth/authProvider'\r\n\r\nconst ToastContent = function ({ name }) {\r\n  return <>\r\n    <div className=\"toastify-header\">\r\n      <div className=\"title-wrapper\">\r\n        <Avatar size=\"sm\" color=\"success\" icon={<Coffee size={12} />} />\r\n        <h6 className=\"toast-title font-weight-bold\">Bienvenido, {name}</h6>\r\n      </div>\r\n    </div>\r\n    <div className=\"toastify-body\">\r\n      <span>\r\n        Has iniciado sesión con éxito en Reportero de la Gestión Gubernamental.\r\n      </span>\r\n    </div>\r\n  </>\r\n}\r\n\r\nconst Login = function (props) {\r\n  const ability = useContext(AbilityContext)\r\n\r\n  const { addAuthFN } = useContext(AuthContext)\r\n\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const [errorLogin, setErrorLogin] = useState(false)\r\n  const [loadingLogin, setLoadingLogin] = useState(false)\r\n\r\n  const { register, errors, handleSubmit } = useForm()\r\n\r\n  const onSubmit = async (data) => {\r\n\r\n    if (isObjEmpty(errors)) {\r\n      const parseToBase = window.btoa(\r\n        unescape(\r\n          encodeURIComponent(`${data.loginEmail}:${data.loginPassword}`),\r\n        ),\r\n      )\r\n      setLoadingLogin(true)\r\n      console.log(data)\r\n      strapiAuthLogin({ identifier: data.loginEmail, password: data.loginPassword })\r\n        .then(res => {\r\n          const data = {\r\n            id: 1,\r\n            fullName: `${res.data.user.firstname} ${res.data.user.lastname}`,\r\n            username: res.data.user.username,\r\n            password: 'admin',\r\n            cedula: res.data.user.cedula,\r\n            avatar: require('@src/assets/images/portrait/small/avatar-s-11.jpg')\r\n              .default,\r\n            email: res.data.user.email,\r\n            role: 'admin',\r\n            ability: [\r\n              {\r\n                action: 'manage',\r\n                subject: 'all',\r\n              },\r\n            ],\r\n            extras: {\r\n              eCommerceCartItemsCount: 5,\r\n            },\r\n            zammadUser: res.data,\r\n            strapiUser: res.data,\r\n            accessToken: res.data.jwt,\r\n            refreshToken: res.data.jwt,\r\n          }\r\n          dispatch(handleLogin(data))\r\n          addAuthFN({\r\n            token: res.data.jwt,\r\n            logged: true,\r\n            user: res.data.user,\r\n          })\r\n          ability.update(data.ability)\r\n          history.push(getHomeRouteForLoggedInUser(data.role))\r\n          toast.success(\r\n            <ToastContent\r\n              name={data.fullName || data.username || ''}\r\n              role={data.role || 'admin'}\r\n            />,\r\n            { transition: Slide, hideProgressBar: true, autoClose: 10000 },\r\n          )\r\n        })\r\n        .catch((err) => {\r\n          setLoadingLogin(false)\r\n          setErrorLogin(true)\r\n          console.log(err.message)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth-wrapper auth-v1 px-2\">\r\n      <div className=\"auth-inner py-2\">\r\n        <Card className=\"mb-0\">\r\n          <CardBody>\r\n            <LogoAuth />\r\n            <CardTitle tag=\"h4\" className=\"mb-1\">\r\n              Bienvenido al Reportero de la Gestión Gubernamental\r\n            </CardTitle>\r\n            <CardText className=\"mb-2\">\r\n              Inicie sesión en su cuenta para empezar el trabajo!\r\n            </CardText>\r\n            <Form\r\n              className=\"auth-login-form mt-2\"\r\n              onSubmit={handleSubmit(onSubmit)}\r\n            >\r\n              <FormGroup>\r\n                <Label className=\"form-label\" for=\"loginEmail\">\r\n                  Correo Electrónico\r\n                </Label>\r\n                <Input\r\n                  autoFocus\r\n                  type=\"email\"\r\n                  value={email}\r\n                  id=\"loginEmail\"\r\n                  name=\"loginEmail\"\r\n                  placeholder=\"tucorreo@ejemplo.com\"\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  className={classnames({\r\n                    'is-invalid': errors.loginEmail,\r\n                  })}\r\n                  innerRef={register({\r\n                    required: true,\r\n                    validate: (value) => value !== '',\r\n                  })}\r\n                />\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <Label className=\"form-label\" for=\"loginPassword\">\r\n                    Contraseña\r\n                  </Label>\r\n                  <Link to=\"/pages/forgot-password-v1\">\r\n                    <small>¿Olvidaste tu Contraseña?</small>\r\n                  </Link>\r\n                </div>\r\n                <InputPasswordToggle\r\n                  value={password}\r\n                  id=\"loginPassword\"\r\n                  name=\"loginPassword\"\r\n                  // className=\"input-group-merge\"\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  className={classnames({\r\n                    'is-invalid': errors.loginPassword,\r\n                  })}\r\n                  innerRef={register({\r\n                    required: true,\r\n                    validate: (value) => value !== '',\r\n                  })}\r\n                />\r\n              </FormGroup>\r\n              {/* <FormGroup>\r\n                <CustomInput\r\n                  type=\"checkbox\"\r\n                  className=\"custom-control-Primary\"\r\n                  id=\"remember-me\"\r\n                  label=\"Recuerdame\"\r\n                />\r\n              </FormGroup> */}\r\n              <p style={{ marginBottom: '10px', color: 'red' }}>\r\n                {errorLogin &&\r\n                  'Error al autenticar, por favor verifique sus datos.'}\r\n              </p>\r\n              <Button.Ripple\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                block\r\n                disabled={loadingLogin}\r\n              >\r\n                {loadingLogin ? 'Cargando...' : 'Login'}\r\n              </Button.Ripple>\r\n            </Form>\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import axios from 'axios'\r\n\r\nconst { accessToken } = JSON.parse(localStorage.getItem('userData')) || []\r\n\r\nexport const zammadAxios = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL,\r\n  headers: {\r\n    authorization: `Basic ${accessToken}`,\r\n  },\r\n})\r\n\r\nexport const territoriesAxios = axios.create({\r\n  baseURL: process.env.REACT_APP_API_TERRITORIES,\r\n})\r\n\r\nexport const incidentsAxios = axios.create({\r\n  baseURL: process.env.REACT_APP_API_INCIDENTS,\r\n})\r\n\r\nexport const strapiAxios = axios.create({\r\n  baseURL: process.env.REACT_APP_API_STRAPI,\r\n})\r\n\r\nstrapiAxios.interceptors.request.use((config) => {\r\n  const { token } = JSON.parse(localStorage.getItem('user')) || []\r\n  let jwt = \"\"\r\n  if (token) {\r\n    jwt = token\r\n  }\r\n  config.headers.Authorization = `Bearer ${jwt}`\r\n  return config;\r\n}, (error) => console.log(\"error ============> \", error))\r\n\r\nstrapiAxios.interceptors.response.use(\r\n  response => response,\r\n  error => {\r\n    console.log(\"error response ============> \", error)\r\n    if(error?.response?.status === 401){\r\n      localStorage.clear()\r\n      window.location.href = '/';\r\n    }\r\n  }\r\n)","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardTitle = function CardTitle(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-title'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardTitle.propTypes = propTypes;\nCardTitle.defaultProps = defaultProps;\nexport default CardTitle;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardBody = function CardBody(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      innerRef = props.innerRef,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"innerRef\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-body'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCardBody.propTypes = propTypes;\nCardBody.defaultProps = defaultProps;\nexport default CardBody;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  inverse: PropTypes.bool,\n  color: PropTypes.string,\n  body: PropTypes.bool,\n  outline: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Card = function Card(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      body = props.body,\n      inverse = props.inverse,\n      outline = props.outline,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"color\", \"body\", \"inverse\", \"outline\", \"tag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card', inverse ? 'text-white' : false, body ? 'card-body' : false, color ? (outline ? 'border' : 'bg') + \"-\" + color : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCard.propTypes = propTypes;\nCard.defaultProps = defaultProps;\nexport default Card;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'p'\n};\n\nvar CardText = function CardText(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-text'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardText.propTypes = propTypes;\nCardText.defaultProps = defaultProps;\nexport default CardText;","const ticketPopulate = ({pageNumber}) => `?pagination[page]=${pageNumber}&pagination[pageSize]=10&fields[0]=title&fields[1]=address&fields[2]=description&fields[3]=state&fields[4]=priority&fields[5]=createdAt&fields[6]=zone_code&sort[0]=publishedAt:desc&populate[owner][fields][0]=firstname&populate[owner][fields][1]=lastname&populate[owner][fields][2]=cedula&populate[beneficiary][fields][0]=name&populate[beneficiary][fields][1]=cedula&populate[beneficiary][fields][2]=phone&populate[beneficiary][fields][3]=email&populate[institution][fields][0]=acronym&populate[institution][fields][1]=name&populate[services][fields][0]=name&populate[services][fields][1]=type&populate[services][fields][2]=id`\r\nconst ticketPopulateId = \"?fields[0]=title&fields[1]=address&fields[2]=description&fields[3]=state&fields[4]=priority&fields[5]=createdAt&fields[6]=zone_code&sort[0]=publishedAt:desc&populate[owner][fields][0]=firstname&populate[owner][fields][1]=lastname&populate[owner][fields][2]=cedula&populate[beneficiary][fields][0]=name&populate[beneficiary][fields][1]=cedula&populate[beneficiary][fields][2]=phone&populate[beneficiary][fields][3]=email&populate[institution][fields][0]=acronym&populate[institution][fields][1]=name&populate[services][fields][0]=name&populate[services][fields][1]=type&populate[services][fields][2]=id\"\r\nconst ticketComments = \"&populate[comments][populate][0]=attachments&populate[comments][populate][attachments][fields][0]=url&populate[comments][populate][attachments][fields][1]=name&populate[comments][populate][attachments][fields][1]=mime\"\r\nconst ticketOwner = \"&populate[comments][populate][owner][fields][1]=firstname&populate[comments][populate][owner][fields][2]=lastname&populate[comments][populate][owner][fields][2]=cedula\"\r\n\r\nexport const strapiApi = {\r\n  auth: {\r\n    login: \"/auth/local\",\r\n  },\r\n  dashboard: {\r\n    total: \"tickets\",\r\n    open: \"tickets?filters[state][$eq]=open\",\r\n    end: \"tickets?filters[state][$eq]=closed\",\r\n    notClose: \"tickets?filters[state][$ne]=closed\",\r\n    priorityLow: \"tickets?filters[priority][$eq]=low\",\r\n    priorityNormal: \"tickets?filters[priority][$eq]=normal\",\r\n    priorityHigh: \"tickets?filters[priority][$eq]=high\",\r\n    institutionWithTickets: \"institutions?populate[tickets][fields]=id\",\r\n    usersActive: \"users\"\r\n  },\r\n  beneficiaries: {\r\n    beneficiary: ({valueSearch=\"\", pageNumber= 1}) => `beneficiaries?pagination[page]=${pageNumber}&pagination[pageSize]=10&filters[cedula][$containsi]=${valueSearch}`,\r\n    beneficiaryPost: `beneficiaries`,\r\n    beneficiaryId: (id) => `beneficiaries/${id}`,\r\n    beneficiaryByCedula: (id) => `beneficiaries?filters[cedula][$eq]=${id}`,\r\n  },\r\n  users: {\r\n    userMe: 'users/me?populate[institution][fields]=name&populate[institution][fields]=acronym',\r\n    user: ({valueSearch=\"\", valueZone=\"\", pageNumber= 1}) => `users?pagination[page]=1&pagination[pageSize]=10&filters[cedula][$containsi]=${valueSearch}&filters[zone_code][$startsWith]=${valueZone}`,\r\n    userPost: 'users',\r\n    userId: (id) => `users/${id}?populate[institution][fields]=name&populate[institution][fields]=acronym`,\r\n    userImport: \"users/import\"\r\n  },\r\n  tickets: {\r\n    ticket: ({valueSearch=\"\", valueZone=\"\", pageNumber= 1}) => `tickets${ticketPopulate({pageNumber})}&filters[title][$containsi]=${valueSearch}&filters[zone_code][$startsWith]=${valueZone}`,\r\n    ticketPost: `tickets`,\r\n    ticketId: (id) => `tickets/${id}${ticketPopulateId}${ticketComments}${ticketOwner}`,\r\n    ticketImport: \"tickets/import\",\r\n  },\r\n  institutions: {\r\n    institution: ({valueSearch=\"\", pageNumber= 1}) => `institutions?pagination[page]=${pageNumber}&pagination[pageSize]=10&filters[name][$containsi]=${valueSearch}`,\r\n    institutionPost: `institutions`,\r\n    institutionId: (id) => `institutions/${id}?populate[services][fields][0]=name&populate[services][fields][1]=type&populate[services][fields][2]=id&populate[owner][fields][0]=firstname&populate[owner][fields][1]=lastname&populate[owner][fields][2]=cedula`,\r\n    institutionByIdService: (idService) => `institutions?fields[0]=name&fields[1]=acronym&populate[services][fields][0]=name&populate[services][fields][1]=type&populate[services][fields][2]=id&filters[services][id][$eq]=${idService}`,\r\n  },\r\n  services: {\r\n    all: 'services?pagination[page]=1&pagination[pageSize]=10',\r\n    serviceId: (id) => `services/${id}?fields[0]=name&fields[1]=type&populate[children][fields][0]=name&populate[children][fields][1]=type&populate[parent][fields][0]=name&populate[parent][fields][1]=type&sort[0]=publishedAt:asc`,\r\n    service: ({valueSearch, pageNumber= 1}) => `services?pagination[page]=${pageNumber}&pagination[pageSize]=10&filters[type][$eq]=service&filters[name][$containsi]=${valueSearch}`,\r\n    category: ({valueSearch, pageNumber= 1}) => `services?pagination[page]=${pageNumber}&pagination[pageSize]=10&filters[type][$eq]=category&filters[name][$containsi]=${valueSearch}`,\r\n    subCategory: ({valueSearch, pageNumber= 1}) => `services?pagination[page]=${pageNumber}&pagination[pageSize]=10&filters[type][$eq]=subcategory&filters[name][$containsi]=${valueSearch}`,\r\n  },\r\n  comments: {\r\n    comment: 'comments'\r\n  },\r\n  uploads: {\r\n    upload: \"upload\"\r\n  }\r\n}\r\n","// ** React Imports\r\nimport { Fragment, useState } from 'react'\r\n\r\n// ** Third Party Components\r\nimport PropTypes from 'prop-types'\r\nimport classnames from 'classnames'\r\nimport { Eye, EyeOff } from 'react-feather'\r\nimport { InputGroup, InputGroupAddon, Input, InputGroupText, Label, inputClassName } from 'reactstrap'\r\n\r\nconst InputPasswordToggle = props => {\r\n  // ** Props\r\n  const {\r\n    label,\r\n    hideIcon,\r\n    showIcon,\r\n    visible,\r\n    className,\r\n    htmlFor,\r\n    placeholder,\r\n    iconSize,\r\n    inputClassName,\r\n    ...rest\r\n  } = props\r\n\r\n  // ** State\r\n  const [inputVisibility, setInputVisibility] = useState(visible)\r\n\r\n  // ** Renders Icon Based On Visibility\r\n  const renderIcon = () => {\r\n    const size = iconSize ? iconSize : 14\r\n\r\n    if (inputVisibility === false) {\r\n      return hideIcon ? hideIcon : <Eye size={size} />\r\n    } else {\r\n      return showIcon ? showIcon : <EyeOff size={size} />\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      {label ? <Label for={htmlFor}>{label}</Label> : null}\r\n      <InputGroup\r\n        className={classnames({\r\n          [className]: className\r\n        })}\r\n      >\r\n        <Input\r\n          type={inputVisibility === false ? 'password' : 'text'}\r\n          placeholder={placeholder ? placeholder : '············'}\r\n          className={classnames({\r\n            [inputClassName]: inputClassName\r\n          })}\r\n          /*eslint-disable */\r\n          {...(label && htmlFor\r\n            ? {\r\n                id: htmlFor\r\n              }\r\n            : {})}\r\n          {...rest}\r\n          /*eslint-enable */\r\n        />\r\n        <InputGroupAddon addonType='append' onClick={() => setInputVisibility(!inputVisibility)}>\r\n          <InputGroupText className='cursor-pointer'>{renderIcon()}</InputGroupText>\r\n        </InputGroupAddon>\r\n      </InputGroup>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default InputPasswordToggle\r\n\r\n// ** PropTypes\r\nInputPasswordToggle.propTypes = {\r\n  hideIcon: PropTypes.node,\r\n  showIcon: PropTypes.node,\r\n  visible: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  iconSize: PropTypes.number,\r\n  inputClassName: PropTypes.string,\r\n  label(props, propName, componentName) {\r\n    // ** If label is defined and htmlFor is undefined throw error\r\n    if (props[propName] && props['htmlFor'] === 'undefined') {\r\n      throw new Error('htmlFor prop is required when label prop is present')\r\n    }\r\n  },\r\n  htmlFor(props, propName, componentName) {\r\n    // ** If htmlFor is defined and label is undefined throw error\r\n    if (props[propName] && props['label'] === 'undefined') {\r\n      throw new Error('label prop is required when htmlFor prop is present')\r\n    }\r\n  }\r\n}\r\n\r\n// ** Default Props\r\nInputPasswordToggle.defaultProps = {\r\n  visible: false\r\n}\r\n","import Logo from '@src/assets/images/logo/logo.png'\r\n\r\nconst LogoAuth = () => (\r\n    <div className=\"d-flex justify-content-center mt-2 mb-4\">\r\n        <img className=\"img-fluid\" src={Logo} width={250} alt=\"Logo\" />\r\n    </div>\r\n)\r\n\r\nexport default LogoAuth"],"sourceRoot":""}