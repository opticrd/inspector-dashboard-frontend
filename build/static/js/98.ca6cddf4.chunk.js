(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[98],{1773:function(e,t,n){"use strict";n.r(t);var r=n(8),i=n(1),a=n(69),c=n(246),o=n(247),u=n(274),s=n(270),l=n(252),d=n(241),v=n(806),b=n(1096),f=n(810),p=n(820),m=n(922),h=n(843),j=n(677),g=n(308),O=n(392),x=(n(409),n(261)),y=n(260),N=n(410),k=n(4),w=[{name:"T\xcdTULO",minWidth:"260px",selector:"title",sortable:!0,cell:function(e){var t;return Object(k.jsx)(d.b,{to:"".concat(x.a.dashboardInbox,"/").concat(e.id),className:"user-name text-truncate mb-0",children:Object(k.jsx)("span",{className:"font-weight-bold",children:null===e||void 0===e||null===(t=e.attributes)||void 0===t?void 0:t.title})})}},{name:"ESTADO",minWidth:"260px",selector:"status",sortable:!0,cell:function(e){var t;return Object(k.jsx)("div",{style:{width:"100%"},children:Object(k.jsx)(s.a,{menuPlacement:"auto",menuPosition:"fixed",theme:l.m,className:"react-select",classNamePrefix:"select",defaultValue:O.b[null===e||void 0===e||null===(t=e.attributes)||void 0===t?void 0:t.state]||{},onChange:function(t){return function(e,t){console.log(e),console.log(t);var n={data:{state:e.value}};Object(N.e)(t,n).then((function(e){return console.log(e)})).catch((function(e){Object(y.a)({title:"Error!",text:"Ocurri\xf3 un error al modificar el estado del ticket.",type:"error"}),console.log(e)}))}(t,e.id)},options:O.a.map((function(e){return{value:e.value,label:e.label}}))})})}},{name:"DIRECCI\xd3N",minWidth:"260px",selector:"address",sortable:!0,cell:function(e){var t;return null===e||void 0===e||null===(t=e.attributes)||void 0===t?void 0:t.address}},{name:"FECHA SLA",minWidth:"150px",selector:"createDate",sortable:!0,cell:function(e){var t;return Object(l.d)(null===e||void 0===e||null===(t=e.attributes)||void 0===t?void 0:t.createdAt)}},{name:"Oficial",minWidth:"400px",selector:"ownerFirstName",sortable:!0,cell:function(e){var t,n,r,i,a,c,o,u,s,l,d,v,b,f,p,m={id:null===e||void 0===e||null===(t=e.attributes)||void 0===t||null===(n=t.owner)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.id,firstName:null===e||void 0===e||null===(i=e.attributes)||void 0===i||null===(a=i.owner)||void 0===a||null===(c=a.data)||void 0===c||null===(o=c.attributes)||void 0===o?void 0:o.firstname,lastName:null===e||void 0===e||null===(u=e.attributes)||void 0===u||null===(s=u.owner)||void 0===s||null===(l=s.data)||void 0===l||null===(d=l.attributes)||void 0===d?void 0:d.lastname,cedula:null===e||void 0===e||null===(v=e.attributes)||void 0===v||null===(b=v.owner)||void 0===b||null===(f=b.data)||void 0===f||null===(p=f.attributes)||void 0===p?void 0:p.cedula};return Object(g.c)(m)}},{name:"INSTITUCI\xd3N",minWidth:"400px",selector:"institutionName",sortable:!0,cell:function(e){var t,n,r,i,a,c,o,u,s,l,d,v={id:null===e||void 0===e||null===(t=e.attributes)||void 0===t||null===(n=t.institution)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.id,acronym:null===e||void 0===e||null===(i=e.attributes)||void 0===i||null===(a=i.institution)||void 0===a||null===(c=a.data)||void 0===c||null===(o=c.attributes)||void 0===o?void 0:o.acronym,name:null===e||void 0===e||null===(u=e.attributes)||void 0===u||null===(s=u.institution)||void 0===s||null===(l=s.data)||void 0===l||null===(d=l.attributes)||void 0===d?void 0:d.name};return Object(g.d)(v)}},{name:"Cliente",minWidth:"400px",selector:"customerFirstName",sortable:!0,cell:function(e){var t,n,r,i,a,c,o,u,s,l,d,v={id:null===e||void 0===e||null===(t=e.attributes)||void 0===t||null===(n=t.beneficiary)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.id,firstName:null===e||void 0===e||null===(i=e.attributes)||void 0===i||null===(a=i.beneficiary)||void 0===a||null===(c=a.data)||void 0===c||null===(o=c.attributes)||void 0===o?void 0:o.name,lastName:"",cedula:null===e||void 0===e||null===(u=e.attributes)||void 0===u||null===(s=u.beneficiary)||void 0===s||null===(l=s.data)||void 0===l||null===(d=l.attributes)||void 0===d?void 0:d.cedula};return Object(g.c)(v)}},{name:"PRIORIDAD",minWidth:"150px",selector:"priority",sortable:!0,cell:function(e){var t;return Object(j.a)(null===e||void 0===e||null===(t=e.attributes)||void 0===t?void 0:t.priority)}},{name:"Acciones",minWidth:"50px",cell:function(e){return Object(k.jsxs)(v.a,{children:[Object(k.jsx)(b.a,{tag:"div",className:"btn btn-sm",children:Object(k.jsx)(m.a,{size:14,className:"cursor-pointer"})}),Object(k.jsx)(f.a,{right:!0,children:Object(k.jsxs)(p.a,{tag:d.b,to:"".concat(x.a.dashboardInbox,"/").concat(e.id),className:"w-100",children:[Object(k.jsx)(h.a,{size:14,className:"mr-50"}),Object(k.jsx)("span",{className:"align-middle",children:"Detalles"})]})})]})}}],I=n(525),B=n(275),_=(n(284),n(679),n(346)),C="No se encontraron regiones",S="No se encontraron provincias",E="No se encontraron municipios",T=n(437),R=n(379);n(304),n(301),n(80),t.default=function(){var e=Object(a.b)(),t=Object(i.useState)([]),n=Object(r.a)(t,2),d=n[0],v=n[1],b=Object(i.useState)(!0),f=Object(r.a)(b,2),p=f[0],m=f[1],h=Object(i.useState)(""),j=Object(r.a)(h,2),g=j[0],O=j[1],x=Object(i.useState)(""),P=Object(r.a)(x,2),A=P[0],D=P[1],F=Object(i.useState)(1),L=Object(r.a)(F,2),M=L[0],W=L[1];console.log(A),Object(i.useEffect)((function(){Object(N.a)({valueSearch:g,valueZone:A,pageNumber:M}).then((function(e){return v(e.data)})).catch((function(){return Object(y.b)()})).finally((function(){return m(!1)}))}),[g,A,M]),Object(i.useEffect)((function(){e(Object(_.a)())}),[e]);var V=Object(a.c)((function(e){var t;return null===e||void 0===e||null===(t=e.regions)||void 0===t?void 0:t.regions})),G=Object(a.c)((function(e){var t;return null===e||void 0===e||null===(t=e.provinces)||void 0===t?void 0:t.provinces})),q=Object(a.c)((function(e){var t;return null===e||void 0===e||null===(t=e.municipalities)||void 0===t?void 0:t.municipalities})),z={value:"",label:"Sin Seleccionar"},U=Object(i.useState)(z),H=Object(r.a)(U,2),Y=H[0],Z=H[1],J=Object(i.useState)(z),K=Object(r.a)(J,2),Q=K[0],X=K[1],$=Object(i.useState)(z),ee=Object(r.a)($,2),te=ee[0],ne=ee[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(B.a,{cardHeaderTitle:"B\xfasqueda con filtro",children:Object(k.jsxs)(c.a,{children:[Object(k.jsxs)(o.a,{md:"4",children:[Object(k.jsx)(u.a,{children:"Regi\xf3n"}),Object(k.jsx)(s.a,{theme:l.m,isClearable:!1,className:"react-select",classNamePrefix:"select",value:Y,isLoading:!V[0],options:Object(l.k)(V),onChange:function(t){return function(t){t.value?(Z(t),D(t.value),X(z),ne(z)):(Z(z),X(z),ne(z),D("")),e(Object(T.a)(t.value))}(t)},noOptionsMessage:function(e){var t=e.inputValue;return Object(l.i)(t,C)}})]}),Object(k.jsxs)(o.a,{md:"4",children:[Object(k.jsx)(u.a,{children:"Provincia"}),Object(k.jsx)(s.a,{theme:l.m,isClearable:!1,className:"react-select",classNamePrefix:"select",value:Q,isLoading:!G[0],options:Object(l.k)(G),onChange:function(t){return function(t){t.value?(X(t),D(Y.value+t.value)):(X(z),ne(z),D(Y.value)),e(Object(R.b)(Y.value,t.value))}(t)},noOptionsMessage:function(e){var t=e.inputValue;return Object(l.i)(t,S)}})]}),Object(k.jsxs)(o.a,{md:"4",children:[Object(k.jsx)(u.a,{children:"Municipio"}),Object(k.jsx)(s.a,{isClearable:!1,theme:l.m,className:"react-select",classNamePrefix:"select",value:te,isLoading:!q[0],options:Object(l.k)(q),onChange:function(e){return function(e){e.value?(ne(e),D(Y.value+Q.value+e.value)):(ne(z),D(Y.value+Q.value))}(e)},noOptionsMessage:function(e){var t=e.inputValue;return Object(l.i)(t,E)}})]})]})}),d&&Object(k.jsx)(I.a,{columnsTable:w,setValueSearch:O,setPageNumber:W,dataTable:d,showButtonAddReport:!0,loadingTable:p})]})}},249:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={tickets:"tickets",ticketById:function(e){return"tickets/".concat(e,"?expand=true")},allTickets:"ticket_overviews?view=all",ticketsByDate:"tickets/search?query=created_at:",ticketsByState:"tickets/search?query=state_id:",ticketsByGroup:"tickets/search?query=group_id:",ticketPriorities:"ticket_priorities",ticketStates:"ticket_states",postTags:"tag_list",tagsByName:function(e){return"tag_search?term=".concat(e)},postTicketTags:"tags/add",ticketTags:function(e){return"tags?object=Ticket&o_id=".concat(e)},ticketArticles:"ticket_articles/by_ticket/",postTicketArticles:"ticket_articles",ticketArticlesAttachment:"ticket_attachment/",users:"users",userMe:"users/me?expand=true",userById:function(e){return"users/".concat(e,"?expand=true")},userByCedula:"users/search?query=cedula:",allUsers:"users?expand=true",allRols:"roles",organizations:"organizations",organizationsByAcronym:function(e){return"organizations/search?query=acronimo:".concat(e)},groups:"groups"}},264:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={regions:"regions",provinces:"provinces",municipalities:"municipalities",regionByIdentifier:function(e){return"regions?identifier=".concat(e)},provinceByIdentifier:function(e){return"provinces?identifier=".concat(e)},municipalityByIdentifier:function(e){return"municipalities?identifier=".concat(e)},districtByIdentifier:function(e){return"districts?identifier=".concat(e)},sectionByIdentifier:function(e){return"sections?identifier=".concat(e)},neighborhoodByIdentifier:function(e){return"neighborhoods?identifier=".concat(e)},subNeighborhoodByIdentifier:function(e){return"sub-neighborhoods?identifier=".concat(e)},provincesByRegion:function(e){return"regions/".concat(e,"/provinces")},municipalitiesByprovincesByRegions:function(e,t){return"regions/".concat(e,"/provinces/").concat(t,"/municipalities")},districtByIdProvinceByIdMunicipality:function(e,t,n){return"regions/".concat(e,"/provinces/").concat(t,"/municipalities/").concat(n,"/districts")},sectionByIdMunicipalityByIdDistrict:function(e,t,n,r){return"regions/".concat(e,"/provinces/").concat(t,"/municipalities/").concat(n,"/districts/").concat(r,"/sections")},neighborhoodByIdDistrictByIdSection:function(e,t,n,r,i){return"regions/".concat(e,"/provinces/").concat(t,"/municipalities/").concat(n,"/districts/").concat(r,"/sections/").concat(i,"/neighborhoods")},subNeighborhoodByIdSectionByIdNeighborhood:function(e,t,n,r,i,a){return"regions/".concat(e,"/provinces/").concat(t,"/municipalities/").concat(n,"/districts/").concat(r,"/sections/").concat(i,"/neighborhoods/").concat(a,"/sub-neighborhoods")}}},275:function(e,t,n){"use strict";var r=n(248),i=n(253),a=n(243),c=n(244),o=n(4);t.a=function(e){var t=e.cardHeaderTitle,n=e.cardHeaderComponent,u=e.children;return Object(o.jsxs)(r.a,{children:[t||n?Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(i.a,{children:[t&&Object(o.jsx)(a.a,{tag:"h4",children:t}),n&&n()]})}):null,Object(o.jsx)(c.a,{children:u})]})}},286:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s}));var r=n(237),i=n.n(r),a=n(238),c=n(236),o=n(249),u=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.d.post(o.a.groups,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.d.get(o.a.groups);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},287:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(237),i=n.n(r),a=n(238),c=n(236),o=n(249),u=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.d.post(o.a.users,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.d.put("".concat(o.a.users,"/").concat(t.id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.d.get(o.a.userMe);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.d.get("".concat(o.a.userByCedula).concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},346:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(236),i=n(264),a=n(13),c=function(){return function(e){return r.c.get(i.a.regions).then((function(t){e({type:a.a.GET_REGIONS,payload:t.data.data})}))}}},379:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var r=n(236),i=n(264),a=n(13),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return e&&t?r.c.get(i.a.municipalitiesByprovincesByRegions(e,t)).then((function(e){n({type:a.a.GET_MUNICIPALITIES_BY_PROVINCES_BY_REGIONS,payload:e.data.data})})):n(o())}},o=function(){return{type:a.a.CLEAN_SELECT_MUNICIPALITIES}}},392:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r={new:{idN:1,id:"new",value:"new",label:"Nuevo",color:"#3498DB"},open:{idN:2,id:"open",value:"open",label:"Abierto",color:"#5ECB08"},pending_reminder:{idN:3,id:"pending_reminder",value:"pending_reminder",label:"Pendiente Recordatorio"},closed:{idN:4,id:"closed",value:"closed",label:"Cerrado",color:"#CFCFCF"},merged:{idN:5,id:"merged",value:"merged",label:"Fusionado"},removed:{idN:6,id:"removed",value:"removed",label:"En Progreso"}},i=[{id:1,value:"new",label:"Nuevo"},{id:2,value:"open",label:"Abierto"},{id:3,value:"pending_reminder",label:"Pendiente Recordatorio"},{id:4,value:"closed",label:"Cerrado"},{id:5,value:"merged",label:"Fusionado"},{id:6,value:"removed",label:"Removido"}]},409:function(e,t,n){"use strict";n(237),n(238),n(236),n(249),n(252),n(286),n(287)},410:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return v}));var r=n(237),i=n.n(r),a=n(238),c=n(236),o=n(256),u=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.valueSearch,r=t.valueZone,a=t.pageNumber,e.next=3,c.b.get(o.a.tickets.ticket({valueSearch:n,valueZone:r,pageNumber:a}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.b.get(o.a.tickets.ticketId(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.b.post(o.a.tickets.ticketPost,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(a.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.b.put(o.a.tickets.ticketId(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.b.post(o.a.tickets.ticketImport,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},437:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(236),i=n(264),a=n(13),c=n(379),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return e?r.c.get(i.a.provincesByRegion(e)).then((function(e){t({type:a.a.GET_PROVINCES_BY_REGION,payload:e.data.data})})):(t(u()),t(Object(c.a)()))}},u=function(){return{type:a.a.CLEAN_SELECT_PROVINCES}}},677:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var r=n(392),i=n(830),a=n(4),c=function(e){var t,n,i=function(){switch(e){case"new":return r.b.new;case"open":return r.b.open;case"pending_reminder":return r.b.pendingReminder;case"closed":return r.b.closed;case"merged":return r.b.merged;case"removed":return r.b.inProgress;default:return null}},c={width:"10px",height:"10px",borderRadius:"2px",display:"inline-block",marginRight:"7px",background:null===(t=i())||void 0===t?void 0:t.color};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{style:c}),Object(a.jsx)("span",{className:"text-truncate",children:null===(n=i())||void 0===n?void 0:n.label})]})},o=function(e){switch(e){case"low":return Object(a.jsx)(i.a,{color:"light-success",children:"Baja"});case"normal":return Object(a.jsx)(i.a,{color:"light-warning",children:"Normal"});case"high":return Object(a.jsx)(i.a,{color:"light-danger",children:"Alta"});default:return Object(a.jsx)(i.a,{color:"light-primary",children:"Desconocida"})}}},679:function(e,t,n){"use strict";n(236),n(249),n(12)}}]);
//# sourceMappingURL=98.ca6cddf4.chunk.js.map